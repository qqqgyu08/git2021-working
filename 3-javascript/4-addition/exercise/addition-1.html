<html>

<body>
  <textarea style="width: 300px; height: 200px;" placeholder="Write here"></textarea>
  <br>
  <button>클리어</button>
  <script>
    // 이벤트:
    // 1. keyup -> 로컬스토리에 저장
    // 2. 페이지가 로딩됐을 떄 로컬 스토리에 저장된걸 꺼내서 textarea에 값을 넣음 
    // <textarea></textarea>
    // clear버튼: 해당 key의 로컬스토리지를 삭제
    //   localStorage.removeItem();
    const txt = document.querySelector("textarea");
    const btn = document.querySelector("button");
    const storageKey = "memo"

    // 텍스트에리어에 입력할 때마다 이벤트 처리
    txt.addEventListener("keyup", () => {
      // console.log(txt.value);
      // 로컬 스토리지에 저장
      localStorage.setItem(storageKey, txt.value);
    })

    // 클리어 버튼을 클릭했을때 텍스트에리어 및 로컬 스토리지 값 삭제
    btn.addEventListener("click", () => {
      txt.value = "";
      localStorage.removeItem(storageKey);
    })

    // 스크립트 실행될 때 스토리지 값 가져오기
    // 페이지 로딩이 됐을때 (스크립트가 가장 하단에 있다는 전제하에)
    txt.value = localStorage.getItem(storageKey);
  </script>
</body>

</html>